{% extends "base.html" %}

{% block title %}Hand Results{% endblock %}
{% block head %}
    {{ parent() }}
    <style type="text/css">
        #outcome {
            width: 200px;
        }
        #outcome th {
            text-align: left;
        }
        #outcome td {
            text-align: right;
        }
        #details {
            width: 640px;
        }
        #details th {
            text-align: left;
            border-bottom: 1px dotted #666666;
        }
        #details td {
            text-align: left;
            border-bottom: 1px dotted #cccccc;
        }        
        #details th:nth-child(4) {
            text-align: center;
        }
        #details td:nth-child(6) {
            text-align: center;
        }        
    </style>
{% endblock %}

{% block body %}

    <p> 
        <a href="/upload">upload</a> | <a href="/logout">logout</a>
    </p>

    <h1>Outcome</h1>
    <table id="outcome">
      <tr>
        <th>Player 1</th>
        <td>{{ outcome[1] }}</td>
      </tr>
      <tr>
        <th>Player 2</th>
        <td>{{ outcome[2] }}</td>
      </tr>
      <tr>
        <th>Tie</th>
        <td>{{ outcome[0] }}</td>
      </tr>
    </table>

    <h1>Details</h1>
    <table id="details">
      <tr>
        <th>#</th>
        <th colspan="2">Player 1</th>
        <th colspan="2">Player 2</th>
        <th>Result</th>
      </tr>
      {% for hand in hands %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ hand.player1.cards|join(' ') }}</td>
        <td>{{ ranks[ hand.player1.rank ] }}</td>
        <td>{{ hand.player2.cards|join(' ') }}</td>
        <td>{{ ranks[ hand.player2.rank ] }}</td>
        <td>{% if hand.result == 0 %}
        X
        {% else %}
        {{ hand.result }}
        {% endif %}</td>
      </tr>
      {% endfor %}
    </table>
{% endblock %}